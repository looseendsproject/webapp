- classes ||= []
%div{:class => classes.append('card')}
  - if project.project_images.first&.representable?
    = image_tag(project.project_images.first.representation( resize_to_limit: [300, 300]), class: 'card-img-top.object-fit-cover', style: 'height:8vw;', alt: "Sample image from the project named #{project.name}")

  .card-body.project-card-body
    %h6.card-title
      = link_to project.name.truncate(40), [:manage, project]
    %ul.list-unstyled
      %li
        = fa_icon("pen-to-square", title: 'Last Updated')
        = time_tag(project.updated_at, "Updated #{time_ago_in_words(project.updated_at)} ago", title: project.updated_at)
      - if last_contact = project.assignments.maximum('updated_at')
        %li
          = fa_icon("envelope", title: 'Last Contact')
          = time_tag(last_contact, "Contact #{time_ago_in_words(last_contact)} ago", title: last_contact)
      %li
        = fa_icon("flag", title: 'Status')
        %span= project.status.titleize
      - if !project.missing_address_information?
        %li
          = fa_icon("location-dot", title: 'Location')
          %span #{project.city.titleize}, #{project.state}
      - if project.assignments.any?
        %li.border-top.mt-1
          %strong Finishers
        - project.assignments.each do |assignment|
          %li
            = fa_icon("user", title: 'Finisher')
            %span #{assignment.finisher.name}
            - if assignment.status
              %span{ class: "badge rounded-pill assignment-status status-#{assignment.status}" }= assignment.status